<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of changeCobraSolver</title>
  <meta name="keywords" content="changeCobraSolver">
  <meta name="description" content="changeCobraSolver Changes the Cobra Toolbox optimization solver(s)">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
</head>
<body>
<a name="_top"></a>
<!-- ../menu.html cobra --><!-- menu.html solvers -->
<h1>changeCobraSolver
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>changeCobraSolver Changes the Cobra Toolbox optimization solver(s)</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>function solverOK = changeCobraSolver(solverName,solverType) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment">changeCobraSolver Changes the Cobra Toolbox optimization solver(s)

 solverOK = changeCobraSolver(solverName,solverType)

INPUTS
 solverName    Solver name
 solverType    Solver type, 'LP', 'MILP', 'QP', 'MIQP' (opt, default
               'LP', 'all').  'all' attempts to change all applicable
               solvers to solverName.  This is purely a shorthand
               convenience.

OUTPUT
 solverOK      true if solver can be accessed, false if not

 Currently allowed LP solvers:
   lindo_new       Lindo API &gt;v2.0
   lindo_old       Lindo API &lt;v2.0
   glpk            GLPK solver with Matlab mex interface (glpkmex)
   lp_solve        lp_solve with Matlab API
   tomlab_cplex    CPLEX accessed through Tomlab environment (default)
   cplex_direct    CPLEX accessed direct to Tomlab cplex.m. This gives
                   the user more control of solver parameters. e.g.
                   minimising the Euclidean norm of the internal flux to
                   get rid of net flux around loops
   mosek           Mosek LP solver with Matlab API (using linprog.m included in Mosek
                   package)
   gurobi          Gurobi accessed through Matlab mex interface (Gurobi mex)
   matlab          Matlab's own linprog.m (currently unsupported, may not
                   work on COBRA-type LP problems)
   mps             Outputs a MPS matrix string. Does not solve LP problem

 Currently allowed MILP solvers:
   tomlab_cplex    CPLEX MILP solver accessed through Tomlab environment
   glpk            glpk MILP solver with Matlab mex interface (glpkmex)
   gurobi          Gurobi accessed through Matlab mex interface (Gurobi mex)
   mps             Outputs a MPS matrix string. Does not solve MILP
                   problem

 Currently allowed QP solvers:
   tomlab_cplex    CPLEX QP solver accessed through Tomlab environment
   qpng            qpng QP solver with Matlab mex interface (in glpkmex
                   package, only limited support for small problems)

 Currently allowed MIQP solvers:
   tomlab_cplex    CPLEX MIQP solver accessed through Tomlab environment

 Currently allowed NLP solvers
   matlab          MATLAB's fmincon.m
   tomlab_snopt    SNOPT solver accessed through Tomlab environment

 it is a good idea to put this function call into your startup.m file
 (usually matlabinstall/toolboxes/local/startup.m)
 Markus Herrgard 1/19/07</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="changeCobraSolver.html" class="code" title="function solverOK = changeCobraSolver(solverName,solverType)">changeCobraSolver</a>	changeCobraSolver Changes the Cobra Toolbox optimization solver(s)</li></ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="../../cobra/initCobraToolbox.html" class="code" title="function initCobraToolbox">initCobraToolbox</a>	initCobraToolbox Initialize COnstraint-Based Reconstruction and Analysis Toolbox</li><li><a href="changeCobraSolver.html" class="code" title="function solverOK = changeCobraSolver(solverName,solverType)">changeCobraSolver</a>	changeCobraSolver Changes the Cobra Toolbox optimization solver(s)</li></ul>
<!-- crossreference -->


<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function solverOK = changeCobraSolver(solverName,solverType)</a>
0002 <span class="comment">%changeCobraSolver Changes the Cobra Toolbox optimization solver(s)</span>
0003 <span class="comment">%</span>
0004 <span class="comment">% solverOK = changeCobraSolver(solverName,solverType)</span>
0005 <span class="comment">%</span>
0006 <span class="comment">%INPUTS</span>
0007 <span class="comment">% solverName    Solver name</span>
0008 <span class="comment">% solverType    Solver type, 'LP', 'MILP', 'QP', 'MIQP' (opt, default</span>
0009 <span class="comment">%               'LP', 'all').  'all' attempts to change all applicable</span>
0010 <span class="comment">%               solvers to solverName.  This is purely a shorthand</span>
0011 <span class="comment">%               convenience.</span>
0012 <span class="comment">%</span>
0013 <span class="comment">%OUTPUT</span>
0014 <span class="comment">% solverOK      true if solver can be accessed, false if not</span>
0015 <span class="comment">%</span>
0016 <span class="comment">% Currently allowed LP solvers:</span>
0017 <span class="comment">%   lindo_new       Lindo API &gt;v2.0</span>
0018 <span class="comment">%   lindo_old       Lindo API &lt;v2.0</span>
0019 <span class="comment">%   glpk            GLPK solver with Matlab mex interface (glpkmex)</span>
0020 <span class="comment">%   lp_solve        lp_solve with Matlab API</span>
0021 <span class="comment">%   tomlab_cplex    CPLEX accessed through Tomlab environment (default)</span>
0022 <span class="comment">%   cplex_direct    CPLEX accessed direct to Tomlab cplex.m. This gives</span>
0023 <span class="comment">%                   the user more control of solver parameters. e.g.</span>
0024 <span class="comment">%                   minimising the Euclidean norm of the internal flux to</span>
0025 <span class="comment">%                   get rid of net flux around loops</span>
0026 <span class="comment">%   mosek           Mosek LP solver with Matlab API (using linprog.m included in Mosek</span>
0027 <span class="comment">%                   package)</span>
0028 <span class="comment">%   gurobi          Gurobi accessed through Matlab mex interface (Gurobi mex)</span>
0029 <span class="comment">%   matlab          Matlab's own linprog.m (currently unsupported, may not</span>
0030 <span class="comment">%                   work on COBRA-type LP problems)</span>
0031 <span class="comment">%   mps             Outputs a MPS matrix string. Does not solve LP problem</span>
0032 <span class="comment">%</span>
0033 <span class="comment">% Currently allowed MILP solvers:</span>
0034 <span class="comment">%   tomlab_cplex    CPLEX MILP solver accessed through Tomlab environment</span>
0035 <span class="comment">%   glpk            glpk MILP solver with Matlab mex interface (glpkmex)</span>
0036 <span class="comment">%   gurobi          Gurobi accessed through Matlab mex interface (Gurobi mex)</span>
0037 <span class="comment">%   mps             Outputs a MPS matrix string. Does not solve MILP</span>
0038 <span class="comment">%                   problem</span>
0039 <span class="comment">%</span>
0040 <span class="comment">% Currently allowed QP solvers:</span>
0041 <span class="comment">%   tomlab_cplex    CPLEX QP solver accessed through Tomlab environment</span>
0042 <span class="comment">%   qpng            qpng QP solver with Matlab mex interface (in glpkmex</span>
0043 <span class="comment">%                   package, only limited support for small problems)</span>
0044 <span class="comment">%</span>
0045 <span class="comment">% Currently allowed MIQP solvers:</span>
0046 <span class="comment">%   tomlab_cplex    CPLEX MIQP solver accessed through Tomlab environment</span>
0047 <span class="comment">%</span>
0048 <span class="comment">% Currently allowed NLP solvers</span>
0049 <span class="comment">%   matlab          MATLAB's fmincon.m</span>
0050 <span class="comment">%   tomlab_snopt    SNOPT solver accessed through Tomlab environment</span>
0051 <span class="comment">%</span>
0052 <span class="comment">% it is a good idea to put this function call into your startup.m file</span>
0053 <span class="comment">% (usually matlabinstall/toolboxes/local/startup.m)</span>
0054 <span class="comment">% Markus Herrgard 1/19/07</span>
0055 <span class="keyword">global</span> CBTLPSOLVER;
0056 <span class="keyword">global</span> CBT_MILP_SOLVER;
0057 <span class="keyword">global</span> CBT_QP_SOLVER;
0058 <span class="keyword">global</span> CBT_MIQP_SOLVER;
0059 <span class="keyword">global</span> CBT_NLP_SOLVER;
0060 
0061 <span class="keyword">if</span> (nargin &lt; 1)
0062     display(<span class="string">'The solvers defined are: '</span>);
0063     display(CBTLPSOLVER);
0064     <span class="keyword">if</span> ~isempty(CBT_MILP_SOLVER), display(CBT_MILP_SOLVER); <span class="keyword">end</span>
0065     <span class="keyword">if</span> ~isempty(CBT_QP_SOLVER), display(CBT_QP_SOLVER); <span class="keyword">end</span>
0066     <span class="keyword">if</span> ~isempty(CBT_MIQP_SOLVER), display(CBT_MIQP_SOLVER); <span class="keyword">end</span>
0067     <span class="keyword">if</span> ~isempty(CBT_NLP_SOLVER), display(CBT_NLP_SOLVER); <span class="keyword">end</span>
0068     solverOK = false;
0069     <span class="keyword">return</span>;
0070 <span class="keyword">end</span>
0071 
0072 <span class="keyword">if</span> (nargin &lt; 2)
0073     solverType = <span class="string">'LP'</span>;
0074 <span class="keyword">end</span>
0075 
0076 solverOK = false;
0077 solverType = upper(solverType);
0078 
0079 <span class="keyword">if</span> (strcmp(solverType, <span class="string">'ALL'</span>))
0080     <a href="changeCobraSolver.html" class="code" title="function solverOK = changeCobraSolver(solverName,solverType)">changeCobraSolver</a>(solverName,<span class="string">'LP'</span>);
0081     <a href="changeCobraSolver.html" class="code" title="function solverOK = changeCobraSolver(solverName,solverType)">changeCobraSolver</a>(solverName,<span class="string">'MILP'</span>);
0082     <a href="changeCobraSolver.html" class="code" title="function solverOK = changeCobraSolver(solverName,solverType)">changeCobraSolver</a>(solverName,<span class="string">'QP'</span>);
0083     <a href="changeCobraSolver.html" class="code" title="function solverOK = changeCobraSolver(solverName,solverType)">changeCobraSolver</a>(solverName,<span class="string">'MIQP'</span>);
0084 <span class="keyword">end</span>
0085 
0086 <span class="comment">% Only LP is currently included</span>
0087 <span class="keyword">if</span> (strcmp(solverType,<span class="string">'LP'</span>))
0088     <span class="comment">%% LP solver</span>
0089     solverOK = true;
0090     <span class="comment">% Check that the LP solver is installed and accessible</span>
0091     <span class="keyword">switch</span> solverName
0092         <span class="keyword">case</span> {<span class="string">'lindo_old'</span>,<span class="string">'lindo_new'</span>}
0093             <span class="keyword">if</span> (~exist(<span class="string">'mxlindo'</span>))
0094                 warning(<span class="string">'LP solver Lindo not usable: mxlindo.dll not in Matlab path'</span>);
0095                 solverOK = false;
0096             <span class="keyword">end</span>
0097         <span class="keyword">case</span> <span class="string">'glpk'</span>
0098             <span class="keyword">if</span> (~exist(<span class="string">'glpkmex'</span>))
0099                 warning(<span class="string">'LP solver glpk not usable: glpkmex not in Matlab path'</span>);
0100                 solverOK = false;
0101             <span class="keyword">end</span>
0102         <span class="keyword">case</span> <span class="string">'mosek'</span>
0103             <span class="keyword">if</span> (~exist(<span class="string">'mosekopt'</span>))
0104                 warning(<span class="string">'LP solver Mosek not usable: mosekopt.m not in Matlab path'</span>);
0105                 solverOK = false;
0106             <span class="keyword">end</span>
0107         <span class="keyword">case</span> <span class="string">'tomlab_cplex'</span>
0108             <span class="keyword">if</span> (~exist(<span class="string">'tomRun'</span>))
0109                 warning(<span class="string">'LP solver CPLEX through Tomlab not usable: tomRun.m not in Matlab path'</span>);
0110                 solverOK = false;
0111             <span class="keyword">end</span>
0112         <span class="keyword">case</span> <span class="string">'cplex_direct'</span>
0113             <span class="keyword">if</span> (~exist(<span class="string">'solveCobraLPCPLEX'</span>))
0114                 warning(<span class="string">'LP solver CPLEX through Tomlab not usable: tomRun.m not in Matlab path'</span>);
0115                 solverOK = false;
0116             <span class="keyword">end</span>
0117         <span class="keyword">case</span> <span class="string">'lp_solve'</span>
0118             <span class="keyword">if</span> (~exist(<span class="string">'lp_solve'</span>))
0119                 warning(<span class="string">'LP solver lp_solve not usable: lp_solve.m not in Matlab path'</span>);
0120                 solverOK = false;
0121             <span class="keyword">end</span>
0122         <span class="keyword">case</span> <span class="string">'pdco'</span>
0123             <span class="keyword">if</span> (~exist(<span class="string">'pdco'</span>))
0124                 warning(<span class="string">'LP solver pdco not usable: pdco.m not in Matlab path'</span>);
0125                 solverOK = false;
0126             <span class="keyword">end</span>
0127         <span class="keyword">case</span> <span class="string">'gurobi'</span>
0128             <span class="keyword">if</span> (~exist(<span class="string">'gurobi_mex'</span>))
0129                 warning(<span class="string">'LP solver Gurobi not useable: gurobi_mex not in Matlab path'</span>);
0130                 solverOK=false;
0131             <span class="keyword">end</span>
0132         <span class="keyword">case</span> <span class="string">'mps'</span>
0133             <span class="keyword">if</span> (~exist(<span class="string">'BuildMPS'</span>))
0134                 warning(<span class="string">'MPS not usable: BuildMPS.m not in Matlab path'</span>);
0135                 solverOK = false;
0136             <span class="keyword">end</span>
0137         <span class="keyword">otherwise</span>
0138             warning([<span class="string">'LP solver '</span> solverName <span class="string">' not supported by COBRA Toolbox'</span>]);
0139             solverOK = false;
0140     <span class="keyword">end</span>
0141     <span class="keyword">if</span> solverOK
0142         CBTLPSOLVER = solverName;
0143     <span class="keyword">end</span>
0144 <span class="keyword">elseif</span> (strcmp(solverType,<span class="string">'MILP'</span>))
0145     <span class="comment">%% MILP solver</span>
0146     solverOK = true;  
0147     <span class="comment">% Check that the LP solver is installed and accessible</span>
0148     <span class="keyword">switch</span> solverName
0149         <span class="keyword">case</span> <span class="string">'tomlab_cplex'</span>
0150             <span class="keyword">if</span> (~exist(<span class="string">'tomRun'</span>))
0151                 warning(<span class="string">'MILP solver CPLEX through Tomlab not usable: tomRun.m not in Matlab path'</span>);
0152                 solverOK = false;
0153             <span class="keyword">end</span>
0154         <span class="keyword">case</span> <span class="string">'glpk'</span>
0155             <span class="keyword">if</span> (~exist(<span class="string">'glpkmex'</span>))
0156                 warning(<span class="string">'MILP solver glpk not usable: glpkmex not in Matlab path'</span>);
0157                 solverOK = false;
0158             <span class="keyword">end</span>
0159         <span class="keyword">case</span> <span class="string">'gurobi'</span>
0160             <span class="keyword">if</span> (~exist(<span class="string">'gurobi_mex'</span>))
0161                 warning(<span class="string">'MILP solver Gurobi not useable: gurobi_mex not in Matlab path'</span>);
0162                 solverOK=false;
0163             <span class="keyword">end</span>
0164         <span class="keyword">case</span> <span class="string">'mps'</span>
0165             <span class="keyword">if</span> (~exist(<span class="string">'BuildMPS'</span>))
0166                 warning(<span class="string">'MPS not usable: BuildMPS.m not in Matlab path'</span>);
0167                 solverOK = false;
0168             <span class="keyword">end</span>
0169         <span class="keyword">otherwise</span>
0170             warning([<span class="string">'MILP solver '</span> solverName <span class="string">' not supported by COBRA Toolbox'</span>]);
0171             solverOK = false;
0172     <span class="keyword">end</span>
0173     <span class="keyword">if</span> solverOK
0174         CBT_MILP_SOLVER = solverName;
0175     <span class="keyword">end</span>
0176 <span class="keyword">elseif</span> (strcmp(solverType,<span class="string">'QP'</span>))
0177     <span class="comment">%% QP solver</span>
0178     <span class="keyword">switch</span> solverName
0179         <span class="keyword">case</span> <span class="string">'tomlab_cplex'</span>
0180             <span class="keyword">if</span> (~exist(<span class="string">'tomRun'</span>))
0181                 warning(<span class="string">'QP solver CPLEX through Tomlab not usable: tomRun.m not in Matlab path'</span>);
0182                 solverOK = false;
0183             <span class="keyword">else</span>
0184                 solverOK = true;
0185             <span class="keyword">end</span>
0186         <span class="keyword">case</span> <span class="string">'qpng'</span>
0187             <span class="keyword">if</span> (~exist(<span class="string">'qpng'</span>))
0188                 warning(<span class="string">'QP solver qpng not usable: qpng.m not in Matlab path'</span>);
0189                 solverOK = false;
0190             <span class="keyword">else</span>
0191                 warning(<span class="string">'qpng solver has not been fully tested - results may not be correct'</span>);
0192                 solverOK = true;
0193             <span class="keyword">end</span>
0194         <span class="keyword">case</span> <span class="string">'mosek'</span>
0195             <span class="keyword">if</span> (~exist(<span class="string">'mskqpopt'</span>))
0196                 warning(<span class="string">'QP solver mskqpopt not usable: mskqpopt.m not in Matlab path'</span>);
0197                 solverOK = false;
0198             <span class="keyword">else</span>
0199                 solverOK = true;
0200             <span class="keyword">end</span>
0201         <span class="keyword">case</span> <span class="string">'pdco'</span>
0202             <span class="keyword">if</span> (~exist(<span class="string">'pdco'</span>))
0203                 warning(<span class="string">'QP solver pdco not usable: pdco.m not in Matlab path'</span>);
0204                 solverOK = false;
0205             <span class="keyword">else</span>
0206                 solverOK = true;
0207             <span class="keyword">end</span>
0208         <span class="keyword">otherwise</span>
0209             warning([<span class="string">'QP solver '</span> solverName <span class="string">' not supported by COBRA Toolbox'</span>]);
0210             solverOK = false;
0211     <span class="keyword">end</span>
0212     <span class="keyword">if</span> solverOK
0213         CBT_QP_SOLVER = solverName;
0214     <span class="keyword">end</span>
0215 <span class="keyword">elseif</span> (strcmp(solverType, <span class="string">'MIQP'</span>))
0216     <span class="comment">%MIQP solver</span>
0217     <span class="keyword">switch</span> solverName
0218         <span class="keyword">case</span> <span class="string">'tomlab_cplex'</span>
0219             <span class="keyword">if</span>(~exist(<span class="string">'tomRun'</span>))
0220                 warning(<span class="string">'MIQP solver CPLEX through Tomlab not usable: tomRun.m not in Matlab path'</span>);
0221                 solverOK = false;
0222             <span class="keyword">else</span>
0223                 solverOK = true;
0224             <span class="keyword">end</span>
0225         <span class="keyword">otherwise</span>
0226             warning([<span class="string">'MIQP solver '</span> solverName <span class="string">' not supported by COBRA Toolbox'</span>]);
0227             solverOK = false;
0228     <span class="keyword">end</span>
0229     <span class="keyword">if</span> solverOK
0230         CBT_MIQP_SOLVER = solverName;
0231     <span class="keyword">end</span>
0232 <span class="keyword">elseif</span> (strcmp(solverType, <span class="string">'NLP'</span>))
0233     <span class="comment">%NLP solver</span>
0234     <span class="keyword">switch</span> solverName
0235         <span class="keyword">case</span> <span class="string">'matlab'</span>
0236             solverOK = true;
0237         <span class="keyword">case</span> <span class="string">'tomlab_snopt'</span>
0238             <span class="keyword">if</span>(~exist(<span class="string">'tomRun'</span>))
0239                 warning(<span class="string">'MIQP solver CPLEX through Tomlab not usable: tomRun.m not in Matlab path'</span>);
0240                 solverOK = false;
0241             <span class="keyword">else</span>
0242                 solverOK = true;
0243             <span class="keyword">end</span>
0244         <span class="keyword">otherwise</span>
0245             warning([<span class="string">'NLP solver '</span> solverName <span class="string">' not supported by COBRA Toolbox'</span>]);
0246             solverOK = false;
0247     <span class="keyword">end</span>
0248     <span class="keyword">if</span> solverOK
0249         CBT_NLP_SOLVER = solverName;
0250     <span class="keyword">end</span>
0251 <span class="keyword">end</span></pre></div>
<hr><address>Generated on Fri 22-Apr-2011 13:22:54 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" target="_parent">m2html</a></strong> &copy; 2003</address>
</body>
</html>